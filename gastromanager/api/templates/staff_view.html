{% extends "base.html" %}

{% block content %}
  <div class="container">
    <h1>Staff management</h1>
    <p>Welcome to the staff management site. Here, you can manage all users.</p>

    <form method="post">
      {% csrf_token %}
      <div class="form-group">
        <label for="add_user">Create new User:</label>
        {{ user_form.as_p }}
      </div>
      <button type="submit" name="add_user" class="btn btn-primary">Add User</button>
    </form>

    <h3>Existing Users:</h3>
    <ul>
      {% for user in users %}
        <li>
          {{ user.username }} - {{ user.email }} - {{ user.level }}
          <form method="post" style="display: inline;">
            {% csrf_token %}
            <input type="hidden" name="user_id" value="{{ user.id }}">
            <button type="submit" name="delete_user" class="btn btn-danger">Delete User</button>
          </form>
          <a href="{% url 'edit_profile' user.id %}" class="btn btn-primary">Edit Profile</a>
        </li>
      {% endfor %}
    </ul>
  </div>
</body>
</html>
{% endblock %}